!function($,window,document,undefined){var pluginName="growl",dataKey="plugin_growl",defaults={element:"body",type:"info",allow_dismiss:!0,placement:{from:"top",align:"center"},offset:20,spacing:10,z_index:1080,delay:5e3,timer:1e3,url_target:"_blank",mouse_over:!1,animate:{enter:"animated fadeInDown",exit:"animated fadeOutUp"},icon_type:"class",template:'<div data-growl="container" class="alert text-center" role="alert"><button type="button" class="close" data-growl="dismiss"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button><span data-growl="icon"></span><span data-growl="title"></span><span data-growl="message"></span><a href="#" data-growl="url"></a></div>'},setDefaults=function(element,options){defaults=$.extend(!0,{},defaults,options)},Plugin=function(element,content,options){var content={content:{message:"object"==typeof content?content.message:content,title:content.title?content.title:null,icon:content.icon?content.icon:null,url:content.url?content.url:null}};options=$.extend(!0,{},content,options),this.settings=$.extend(!0,{},defaults,options),plugin=this,init(options,this.settings,plugin),this.$template=$template},init=function(options,settings,plugin){var base={settings:settings,$element:$(settings.element),template:settings.template};$template=buildGrowl(base),addContent($template,base.settings),placement($template,base.settings),bindControls($template,base.settings,plugin)},buildGrowl=function(base){var $template=$(base.settings.template);return $template.addClass("alert-"+base.settings.type),$template.attr("data-growl-position",base.settings.placement.from+"-"+base.settings.placement.align),$template.find('[data-growl="dismiss"]').css("display","none"),base.settings.allow_dismiss&&$template.find('[data-growl="dismiss"]').css("display","inline-block"),$template},addContent=function($template,settings){$template.find('[data-growl="dismiss"]').css({position:"absolute",top:"5px",right:"10px","z-index":settings.z_index-1>=1?settings.z_index-1:1}),settings.content.icon&&("class"==settings.icon_type.toLowerCase()?$template.find('[data-growl="icon"]').addClass(settings.content.icon):$template.find('[data-growl="icon"]').is("img")?$template.find('[data-growl="icon"]').attr("src",settings.content.icon):$template.find('[data-growl="icon"]').append('<img src="'+settings.content.icon+'" />')),settings.content.title&&$template.find('[data-growl="title"]').html(settings.content.title),settings.content.message&&$template.find('[data-growl="message"]').html(settings.content.message),settings.content.url&&($template.find('[data-growl="url"]').attr("href",settings.content.url).attr("target",settings.url_target),$template.find('[data-growl="url"]').css({position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%","z-index":settings.z_index-2>=1?settings.z_index-2:1}))},placement=function($template,settings){var offsetAmt=settings.offset,gCSS={position:"body"===settings.element?"fixed":"absolute",margin:0,"z-index":settings.z_index,display:"inline-block"};switch($('[data-growl-position="'+settings.placement.from+"-"+settings.placement.align+'"]').each((function(){return offsetAmt=Math.max(offsetAmt,parseInt($(this).css(settings.placement.from))+$(this).outerHeight()+settings.spacing)})),gCSS[settings.placement.from]=offsetAmt+"px",$template.css(gCSS),$(settings.element).append($template),settings.placement.align){case"center":$template.css({left:"50%",marginLeft:-$template.outerWidth()/2+"px"});break;case"left":$template.css("left",settings.offset+"px");break;case"right":$template.css("right",settings.offset+"px")}$template.addClass("growl-animated")},bindControls=function($template,settings,plugin){if($template.addClass(settings.animate.enter),$template.find('[data-growl="dismiss"]').on("click",(function(){plugin.close()})),$template.on("mouseover",(function(e){$template.addClass("hovering")})).on("mouseout",(function(){$template.removeClass("hovering")})),settings.delay>=1){$template.data("growl-delay",settings.delay);var timer=setInterval((function(){var delay=parseInt($template.data("growl-delay"))-settings.timer;(!$template.hasClass("hovering")&&"pause"==settings.mouse_over||"pause"!=settings.mouse_over)&&$template.data("growl-delay",delay),delay<=0&&(clearInterval(timer),plugin.close())}),settings.timer)}};Plugin.prototype={update:function(command,update){switch(command){case"icon":"class"==this.settings.icon_type.toLowerCase()?(this.$template.find('[data-growl="icon"]').removeClass(this.settings.content.icon),this.$template.find('[data-growl="icon"]').addClass(update)):this.$template.find('[data-growl="icon"]').is("img")?this.$template.find('[data-growl="icon"]'):this.$template.find('[data-growl="icon"]').find("img").attr().attr("src",update);break;case"url":this.$template.find('[data-growl="url"]').attr("href",update);break;case"type":this.$template.removeClass("alert-"+this.settings.type),this.$template.addClass("alert-"+update);break;default:this.$template.find('[data-growl="'+command+'"]').html(update)}return this},close:function(){var base=this.$template,settings=this.settings,posX=base.css(settings.placement.from),hasAnimation=!1;return base.addClass(this.settings.animate.exit),base.nextAll('[data-growl-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]').each((function(){$(this).css(settings.placement.from,posX),posX=parseInt(posX)+settings.spacing+$(this).outerHeight()})),base.one("webkitAnimationStart oanimationstart MSAnimationStart animationstart",(function(event){hasAnimation=!0})),base.one("webkitAnimationEnd oanimationend MSAnimationEnd animationend",(function(event){$(this).remove()})),setTimeout((function(){hasAnimation||base.remove()}),100),this}},$.growl=function(content,options){return 0==content?(setDefaults(this,options),!1):new Plugin(this,content,options);var plugin}}(jQuery,window,document);