function clearForm(){$("#crudForm").find(":input").each((function(){switch(this.type){case"password":case"select-multiple":case"select-one":case"text":case"textarea":$(this).val("")}})),$(".open-file,.gc-file-upload,.hidden-upload-input").each((function(){$(this).val("")})),$(".upload-success-url").hide(),$(".fileinput-button").fadeIn("normal"),$(".remove-all").each((function(){$(this).trigger("click")})),$(".chosen-multiple-select, .chosen-select, .ajax-chosen-select").each((function(){$(this).trigger("liszt:updated"),$(this).select2("val","")}))}jQuery((function($){"use strict";$(".ptogtitle").click((function(){$(this).hasClass("vsble")?($(this).removeClass("vsble"),$("#main-table-box #crudForm").slideDown("slow")):($(this).addClass("vsble"),$("#main-table-box #crudForm").slideUp("slow"))}));var save_and_close=!1;$("#save-and-go-back-button").click((function(){save_and_close=!0,$("#crudForm").trigger("submit")})),$("#crudForm").submit((function(){var my_crud_form=$(this);return $(this).ajaxSubmit({url:validation_url,dataType:"json",cache:"false",beforeSend:function(){$("#FormLoading").show()},success:function(data){$("#FormLoading").hide(),data.success?$("#crudForm").ajaxSubmit({dataType:"text",cache:"false",beforeSend:function(){$("#FormLoading").show()},success:function(result){if($("#FormLoading").fadeOut("slow"),(data=$.parseJSON(result)).success){var data_unique_hash=my_crud_form.closest(".flexigrid").attr("data-unique-hash");if($(".flexigrid[data-unique-hash="+data_unique_hash+"]").find(".ajax_refresh_and_loading").trigger("click"),save_and_close)return 0===$("#save-and-go-back-button").closest(".ui-dialog").length?window.location=data.success_list_url:($(".ui-dialog-content").dialog("close"),success_message(data.success_message)),!0;$(".field_error").each((function(){$(this).removeClass("field_error")})),clearForm(),form_success_message(data.success_message)}else $.growl(message_insert_error||"Ocorreu um erro",{type:"danger",delay:1e4,animate:{enter:"animated bounceInDown",exit:"animated bounceOutUp"}})},error:function(){$.growl(message_insert_error||"Ocorreu um erro",{type:"danger",delay:1e4,animate:{enter:"animated bounceInDown",exit:"animated bounceOutUp"}}),$("#FormLoading").hide()}}):($(".has-error").removeClass("has-error"),form_error_message(data.error_message),$.each(data.error_fields,(function(index,value){$("input[name="+index+"]").closest(".form-group").addClass("has-error")}))),window.scroll(0,0)},error:function(){error_message(message_insert_error),$("#FormLoading").hide()}}),!1})),0===$("#cancel-button").closest(".ui-dialog").length&&$("#cancel-button").click((function(){return window.location=list_url,!1}))}));